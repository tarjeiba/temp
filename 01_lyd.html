<!DOCTYPE html>
<html lang="nb">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, innitial-scale=1" />
    <title>Lyd</title>
    <link rel="stylesheet" href="./styles.css" />

    <script src="./grapher.js" type="module"></script>
    <script src="./sounder.js" type="module"></script>
    <script src="./noiser.js" type="module"></script>
  </head>
  <body>
    <h1>Trykk og tid</h1>
    <section>
      <h2>Tilfeldighet</h2>
      <p>
        Du knipser en mynt. Om den lander på kron, skriver du ned en null, om
        den lander på mynt, én. Det blir tilsynelatende ingen mønstre i tallene
        du skriver ned.
      </p>

      <div id="randomness-clicks-random">
        <button
          onclick="(()=> {
            document.getElementById('throws-number').textContent += (Math.random() <
            0.5 ? '1 ' : '0 ')})()"
        >
          Knips!
        </button>
        <span id="throws-number"> </span>
      </div>
      <p>
        Vi samler sammen tallene i grupper à 32, og benytter litt matte for å
        omdanne hver 32-lange gruppe av 0-er og 1-ere til et desimaltall mellom
        -1 og 1.
      </p>
      <p>
        Vi knipser raskt. Veldig raskt. Vi knipser så vi hvert sekund rekker å
        få 44100 slike desimaltall, som hver består av 32 0-er og 1-ere.
      </p>
      <p>
        Vi sender så alle disse desimaltallene til et lydkort, som lager en
        elektrisk spenning, avhengig av verdien til desimaltallet. Denne
        spenningen gjør så at en liten magnet flytter litt på seg, som flytter
        på en liten membran, og ut fra en høyttaler kommer følgende.
      </p>

      <input
        id="white-noise-volume"
        type="range"
        min="0.001"
        max="0.3"
        step="0.01"
      />
      <button id="white-noise">Start</button>

      <p>
        Denne støyen, hvor alle verdier er helt uavhengige av hverandre. Et
        lydmessig anarki. Denne støyen kalles <em>hvit støy</em>. I naturfag
        lærte du at <em>hvitt lys</em> inneholder alle regnbuens farger. Nå skal
        du lære at <em>hvit støy</em> inneholder alle, hva skal vi si, skalaens
        toner?
      </p>

      <p>
        For nå, la oss ta med oss følgende. Siffer (engelsk «digits», vi er nå
        innenfor det <em>digitale</em>) brukes til å representere verdier.
        Dersom disse verdiene endrer seg i forhold til hverande, kan vi
        <em>høre</em> endringen i form av lyd. Dersom det ikke er noen struktur
        mellom tallene, vil lyden vi høre være støy.
      </p>
    </section>
    <section>
      <h2>Rydde opp i rotet</h2>
      <p>
        Støyen vi hørte over, var ikke fra en lydfil. Den blei generert av det
        du nå bruker til å lese denne nettsida. Om du bruker en mobiltelefon,
        var det denne som lagde lyden, om du bruker en PC, var det denne. Den
        lagde lyden ved å kjøre en liten kodesnutt.
      </p>

      <p>Denne koden ser omtrent ut som følger:</p>
      <pre>
                Fortsett med følgende så lenge jeg ber om verdier:
                1. Gi meg et tilfeldig tall mellom 0 og 1 (Math.random())
                2. Gang tallet med to
                3. Trekk fra 1
                4. Gå til steg 1
      </pre>
      <p>
        Maskinen knipser altså ikke mynt, men den gir oss et ferdig tall mellom
        0 og 1. For å lage lyd av det, ønsket vi et tall mellom -1 og 1, så da
        ganger vi først tallet med 2. Dette gir oss et tilfeldig tall mellom 0
        og 2. For å få tallet til å være mellom -1 og 1, kan vi da bare trekke
        fra 1.
      </p>

      <p>
        Så tilfeldig, kaotisk endring er som oftest ikke det vi ønsker, vi kan
        dog ikke gå for <em>ingen</em> endring. En mynt med kron på begge sider.
      </p>
      <button
        onclick="(()=> {
        document.getElementById('throws-zero').textContent += (Math.random() <
        0.5 ? '0 ' : '0 ')})()"
      >
        Knips!
      </button>
      <span id="throws-zero"></span>
      <p>Ei heller kan vi gå for en mynt med mynt på begge sider</p>
      <button
        onclick="(()=> {
        document.getElementById('throws-one').textContent += (Math.random() <
        0.5 ? '1 ' : '1 ')})()"
        p
      >
        Knips!
      </button>
      <span id="throws-one"></span>

      <p>
        Her er det ikke mye å høre. For å få lyd, må noe være i
        <em>endring</em>. Med støy, er den endringen ustruktert. Hva skjer om vi
        strukturerer endringen? Hva om vi gjør endringen mer systematisk? Hva om
        vi heller enn å velge en fullstendig tilfeldig fullstendig ny verdi,
        fortsatt lar noe være tilfeldig, men at det tilfeldige bidraget er
        mindre, tregere.
      </p>

      <input
        id="brown-noise-volume"
        type="range"
        min="0.001"
        max="0.3"
        step="0.01"
      />
      <button id="brown-noise">Start</button>
    </section>

    <h1>Bølger</h1>
    <section>
      <h2>Fysikk</h2>
      <p>
        To objekter kolliderer og noe av energien går til lyd. Når du slipper
        pennen og denne treffer bordet, vil bordet skyves ned ørlite under der
        pennen traff. Som en trampoline vil bordet trekke seg tilbake. Når
        bordet ble skjøvet ned trakk det med seg luften over det, og når det
        trekker seg tilbake, skyver det luften foran seg. Luften blir i et lite
        område over bordet trykket litt sammen, det får høyere
        <em>trykk</em>.
      </p>

      <p>
        Dette høye trykket vil så spre seg utover i lufta. Merk, det er ikke
        <em>lufta</em> som sprer seg, men det høye trykket. Lufta står mer eller
        mindre i ro.
      </p>

      <p>
        Vi tegner ofte lydbølger som noe à la figuren under. Vi har tid eller
        rom på førsteaksen (x-aksen, om du vil, abscissen), og vi har trykk på
        andreaksen (y-aksen, om du vil, ordinaten). Vi bruker dette som en
        visuell representasjon av virkeligheten, og det skaper et bilde av at
        lyd er noe som svinger opp og ned i lufta og møter ørene våre.
      </p>

      <div id="ikkeinteraktivsinus"></div>

      <p>Det stemmer dog ikke fullstendig.</p>

      <p>
        Lyd svinger ikke opp og ned. Lyd er et fenomen hjernen vår lager av
        sanseinntrykk i all hovedsak basert på svingninger i lufttrykk.
        Lufttrykket svinger, men ikke i en fysisk retning. Vi må passe oss for å
        forstå figurene vi ser på som et bilde på virkeligheten.
      </p>
    </section>
    <section>
      <h2>Bølgeegenskaper</h2>
      <p>
        Bølger kan være<em>store</em>,<em>raske</em>,<em>lange</em>. De som tar
        matematikk R2, eller et av fysikkfagene, lærer blant annet følgende
        begreper for å beskrive en bølge:
      </p>
      <dl>
        <dt>Amplitude</dt>
        <dd>
          Hvor<em>stor</em>er en bølge? For en bølge på sjøen måler vi denne
          verdien i meter, for spenningsbølgene i en elektrisk ledning måer vi
          det i volt, for en trykkbølge kan vi måle det i pascal.
        </dd>
        <dt>Bølgelengde</dt>
        <dd>
          Hvor<em>lang</em>er en bølge? Måles i et lengdemål, for eksempel meter
          eller fot.
        </dd>
        <dt>Bølgefart</dt>
        <dd>
          Hvor<em>fort</em>brer bølgen seg? Måles i et fartsmål, for eksempel
          meter per sekund eller kilometer i timen.
        </dd>
        <dt>Frekvens</dt>
        <dd>
          Hvor<em>tett</em>kommer bølgetoppene forbi en obervatør? Måles i hertz
          og omtales som «lav» eller «høy».
        </dd>
      </dl>
      <div id="amplitude">
        <h3>Amplitude</h3>
        <p>
          På sjøen er<em>bølgehøyden</em>høydeforskjellen på en bølgetopp og den
          påfølgende bølgedalen.
        </p>
        <div class="contour" id="enkelsinus">
          <div class="controlpanel">
            <input
              type="range"
              class="frequency"
              min="0"
              max="1"
              step="0.01"
            /><span>Frekvens</span>
          </div>
        </div>
      </div>
      <div id="bølgelengde"><h3>Bølgelengde</h3></div>
      <div id="bølgefart">
        <h3>Bølgefart</h3>
        <p>
          Det er tordenvær og du ser et lynglimt. Du begynner å telle.
          «Tusen-og-en, tusen-og-to, tusen-og-tre ...». Det kommer et tydelig
          tordendrønn. Lynglimtet beveget seg mot deg med lysets hastighet,
          omtrent trehundretusen kilometer i sekunder. Tordendrønnet beveget seg
          mot deg med lydfarten, omtrent trehundre meter i sekundet. Forskjellen
          på disse to tallene er så vanvittig at vi for de aller fleste
          praktiske formål kan regne det som at vi så lysglimte idet det
          skjedde.
        </p>
        <p>
          Bølger brer seg i et medie, og det er spesielt to egenskaper ved
          mediet som bestemmer bølgefarten for kompresjonsbølger (som lyd) i
          det. 1) Hvor tett er mediet? 2) Hvor komprimerbart er mediet?
        </p>
        <div>
          <h4>Hvor tett er mediet?</h4>
          <p>
            Om du ska sende en bølge av gårde, må du også sette en masse i
            bevegelse. De av dere som har hatt Fysikk 1, veit at dersom du skal
            sette en stor masse i bevegelse, trenger du mer kraft enn om du skal
            sette en liten masse i bevegelse. For en gitt kraft, blir det
            resulterende bevegelsen tregere dersom skjøv på en stor masse enn en
            liten.
          </p>
          <p>
            Hvor mye masse det er innenfor et gitt volum av et medie, kaller vi
            mediets massetetthet.
          </p>
        </div>
        <div>
          <h4>Hvor stivt er mediet?</h4>
          <p>
            Om du slår på enden av en metallstang, forventer du at den andre
            enden beveger seg mer eller mindre momenant. Om du har et rør fylt
            med luft og to stempler på hver side, forventer du en forsinkelse
            fra du slår på den ene siden til denne bevgelsen vises på den andre
            siden.
          </p>
          <p>
            Metallstanga er<em>stivere</em>enn den tilsvarende luften.
            Kompresjonsbølgen bredde seg raskere gjennom den, enn den gjorde
            gjennom luften. Dette til tross for at metallstanga har langt høyere
            massetetthet enn lufta.
          </p>
        </div>
        <div>
          <h4>Hva betyr dette for lydfart?</h4>
          <p>
            Lydfarten i luft påvirkes av luftens tetthet og trykk. Økt trykk
            gjør luften «stivere» og vil tendere til å øke lydfarten, økt
            tetthet gjør den tyngre og vil tendere til å minke lydfarten.
            Temperaturen i lufta påvirker både trykk og tetthet, og sammen gjør
            det at lydfarten øker litt med temperaturen i lufta.
          </p>
          <p>
            Ved 0 °C er lydfarten omtrent 330 m/s. Ved 20 °C er den omtrent 340
            m/s.
          </p>
        </div>
        <div>
          <h4>Lydfarten avhenger ikke av lydkilden</h4>
          <p>
            Legg merke til at i det over har vi kun tatt hensyn til luftens
            egenskaper, ikke eventuell bevegelse i lydkilden. Dette er fordi
            lydfarten i mediet lyden skal spre seg i, er fullstendig uavhengig
            av eventuell bevegelse i lydkilden.
          </p>
        </div>
      </div>
      <div id="frekvens"><h3>Frekvens</h3></div>
    </section>
    <section>
      <h2>Summen av to bølger er en ny bølge</h2>
      <p></p>
    </section>
    <section>
      <h2>Bølger som påvirker bølger</h2>
      <p>
        Vi kan altså høre bølger i lufta som lyd. Hva slags lyd det blir,
        avhenger av flere ting, blant annet hva slags fasong bølgen har. Vi har
        sett at summen av flere bølger er en ny bølge, og vi har sett at vi kan
        sette sammen mer kompliserte bølger fra mange sinusbølger.
      </p>
      <div id="adsr">
        <p>
          Først setter vi opp en<em>oscillator</em>, noe som kan generere bølgen
          vi skal høre. Velg hva slags bølgeform du vil ha, og hvilken frekvens
          du ønsker.
        </p>
        <div module="oscillator"></div>
        <p>
          Vi setter deretter opp en konturgenerator. Prøv deg fram med denne.
          Det er fire verdier å stille på, A, D, S, R.
        </p>
        <div module="adsr"></div>
        <p>
          Til slutt kobler vi på et vanlig volumtrinn så vi kan justere volumet
          på lyden.
        </p>
        <div module="volume"></div>
      </div>
    </section>
    <section>
      <h2>Oppgaver</h2>
      <details class="task">
        <summary>Slipp en penn</summary>
        <p>
          Hold en penn over bordet foran deg og slipp den ned på høykant. Varier
          høyden du slipper pennen fra. Hvordan påvirker høyden du slipper fra
          lyden pennen lager når den treffer borde?
        </p>
      </details>
      <details class="task">
        <summary>Bølger i en tallerken</summary>
        <p>
          Ta en kjøkkentallerkern og hell litt vann i den. Slipp pennen din ned
          i vannet på tilsvarende måte som i forrige oppgave. Ser du bølgene som
          brer seg i vannet?
        </p>
      </details>
      <details class="task">
        <summary>Avstand til lynet</summary>
        <p>
          Med en lydfart på 340 m/s. Hvor langt unna var lynnedslaget dersom du
          talte tre sekunder fra du så lynglimtet til du hørte tordendrønnet?
        </p>
      </details>
      <details class="task">
        <summary>Tidevannsmåling?</summary>
        <p>
          Du har sommerjobb på den lokale campingplassen og en av oppgavene dine
          er å måle vannhøyden (som varierer gjennom døgnet på grunn av
          tidevann).
        </p>
        <p>
          Du ønsker ikke å jobbe for mye, men du ønsker å gjøre jobben
          tilstrekkelig til at sjefen er fornøyd med deg.
        </p>
        <p>Hvor ofte ønsker du å ta en måling av vannhøyden?</p>
      </details>
    </section>
  </body>
</html>
